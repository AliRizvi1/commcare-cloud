# Based off https://docs.google.com/spreadsheets/d/1144_3SmWZLCbKwtE9X-mygWvwd3HSts74XMcc5m7brk/edit#gid=255789169
# The actual name of the datavol_device is /dev/mapper/consolidated-data1
# Since ecryptfs role hard-codes adding a 1, we're using just /dev/mapper/consolidated-data for the vars below

[pgdw]
pgdw__ip

[pgdw:vars]
hostname='pgdw'
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hot_standby_server='pgdwb__ip'
pgbouncer_max_connections=3500
pgbouncer_default_pool=190
postgresql_replication_slots=['standby','spare']
postgresql_max_connections=200
postgresql_work_mem=20971kB
postgresql_shared_buffers=8GB
postgresql_effective_cache_size=24GB
postgresql_checkpoint_segments=128
postgresql_checkpoint_completion_target=0.9
postgresql_maintenance_work_mem = 2GB
postgresql_wal_buffers=16MB
postgresql_default_statistics_target = 500

[pgdwb]
pgdwb__ip

[pgdwb:vars]
hostname='pgdwb'
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hot_standby_master='pgdw__ip'
replication_slot='standby'
pgbouncer_max_connections=3500
pgbouncer_default_pool=190
postgresql_max_connections=200
postgresql_work_mem=20971kB
postgresql_shared_buffers=8GB
postgresql_effective_cache_size=24GB
postgresql_checkpoint_segments=128
postgresql_checkpoint_completion_target=0.9
postgresql_maintenance_work_mem = 2GB
postgresql_wal_buffers=16MB
postgresql_default_statistics_target = 500

[pgmain]
pgmain__ip

[pgmain:vars]
hostname='pgmain'
devices='["/dev/sdb"]'
partitions='["/dev/sdb1"]'
datavol_device='/dev/mapper/consolidated-data'
hot_standby_server='pgmainb__ip'
pgbouncer_max_connections=3500
pgbouncer_default_pool=190
postgresql_replication_slots=['standby','spare']
postgresql_max_connections=200
postgresql_work_mem=41943kB
postgresql_shared_buffers=8GB
postgresql_effective_cache_size=24GB
postgresql_maintenance_work_mem = 2GB
postgresql_checkpoint_segments=32
postgresql_checkpoint_completion_target=0.7
postgresql_wal_buffers=16MB
postgresql_default_statistics_target = 100

[pgmainb]
pgmainb__ip

[pgdwb:vars]
hostname='pgmainb'
devices='["/dev/sdb"]'
partitions='["/dev/sdb1"]'
datavol_device='/dev/mapper/consolidated-data'
hot_standby_master='pgmain__ip'
replication_slot='standby'
pgbouncer_max_connections=3500
pgbouncer_default_pool=190
postgresql_max_connections=200
postgresql_work_mem=41943kB
postgresql_shared_buffers=8GB
postgresql_effective_cache_size=24GB
postgresql_maintenance_work_mem = 2GB
postgresql_checkpoint_segments=32
postgresql_checkpoint_completion_target=0.7
postgresql_wal_buffers=16MB
postgresql_default_statistics_target = 100

[pgpt1]
pgpt1__ip

[pgpt1:vars]
hostname='pgpt1'
devices='["/dev/sdb", "/dev/sdc"]'
partitions='["/dev/sdb1", "/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hot_standby_server='pgpt1b__ip'
pgbouncer_max_connections=3500
pgbouncer_default_pool=190
postgresql_replication_slots=['standby','spare']
postgresql_max_connections=200
postgresql_work_mem=41943kB
postgresql_shared_buffers=8GB
postgresql_effective_cache_size=24GB
postgresql_maintenance_work_mem = 2GB
postgresql_checkpoint_segments=64
postgresql_checkpoint_completion_target=0.9
postgresql_wal_buffers=16MB
postgresql_default_statistics_target = 100

[pgpt1b]
pgpt1b__ip

[pgpt1b:vars]
hostname='pgpt1b'
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hot_standby_master='pgpt1__ip'
replication_slot='standby'
pgbouncer_max_connections=3500
pgbouncer_default_pool=190
postgresql_max_connections=200
postgresql_work_mem=41943kB
postgresql_shared_buffers=8GB
postgresql_effective_cache_size=24GB
postgresql_maintenance_work_mem = 2GB
postgresql_checkpoint_segments=64
postgresql_checkpoint_completion_target=0.9
postgresql_wal_buffers=16MB
postgresql_default_statistics_target = 100

[pgpt2]
pgpt2__ip

[pgpt2:vars]
hostname='pgpt2'
devices='["/dev/sdb", "/dev/sdc"]'
partitions='["/dev/sdb1", "/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hot_standby_server='pgpt2b__ip'
pgbouncer_max_connections=3500
pgbouncer_default_pool=190
postgresql_replication_slots=['standby','spare']
postgresql_max_connections=200
postgresql_work_mem=41943kB
postgresql_shared_buffers=8GB
postgresql_effective_cache_size=24GB
postgresql_maintenance_work_mem = 2GB
postgresql_checkpoint_segments=64
postgresql_checkpoint_completion_target=0.9
postgresql_wal_buffers=16MB
postgresql_default_statistics_target = 100


[pgpt2b]
pgpt2b__ip

[pgpt2b:vars]
hostname='pgpt2b'
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hot_standby_master='pgpt2__ip'
replication_slot='standby'
pgbouncer_max_connections=3500
pgbouncer_default_pool=190
postgresql_max_connections=200
postgresql_work_mem=41943kB
postgresql_shared_buffers=8GB
postgresql_effective_cache_size=24GB
postgresql_maintenance_work_mem = 2GB
postgresql_checkpoint_segments=64
postgresql_checkpoint_completion_target=0.9
postgresql_wal_buffers=16MB
postgresql_default_statistics_target = 100

[web0]
web0__ip

[web0:vars]
parent_mailrelay='relay.nic.in'
hostname='web0'

[web1]
web1__ip

[web1:vars]
hostname='web1'

[web2]
web2__ip

[web2:vars]
hostname='web2'

[web3]
web3__ip

[web3:vars]
hostname='web3'

[web4]
web4__ip

[web4:vars]
hostname='web4'

[web5]
web5__ip

[web5:vars]
hostname='web5'

[web6]
web6__ip

[web6:vars]
hostname='web6'

[web7]
web7__ip

[web7:vars]
hostname='web7'

[web8]
web8__ip

[web8:vars]
hostname='web8'

[web9]
web9__ip

[web9:vars]
hostname='web9'

[es0]
es0__ip

[es0:vars]
devices='["/dev/sdb"]'
partitions='["/dev/sdb1"]'
datavol_device='/dev/mapper/consolidated-data'
elasticsearch_node_name=es0
hostname='es0'

[es1]
es1__ip

[es1:vars]
devices='["/dev/sdb"]'
partitions='["/dev/sdb1"]'
datavol_device='/dev/mapper/consolidated-data'
elasticsearch_node_name=es1
hostname='es1'

[es2]
es2__ip

[es2:vars]
elasticsearch_node_name=es2
devices='["/dev/sdb"]'
partitions='["/dev/sdb1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='es2'

[es3]
es3__ip

[es3:vars]
devices='["/dev/sdb"]'
partitions='["/dev/sdb1"]'
datavol_device='/dev/mapper/consolidated-data'
elasticsearch_node_name=es3
hostname='es3'

[couch0]
couch0__ip

[couch0:vars]
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='couch0'
#remote_couch_backup='es0'

[couch1]
couch1__ip

[couch1:vars]
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='couch1'
#remote_couch_backup='es0'

[couch2]
couch2__ip

[couch2:vars]
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='couch2'
#remote_couch_backup='es0'

[riak0]
riak0__ip

[riak0:vars]
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='riak0'

[riak1]
riak1__ip

[riak1:vars]
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='riak1'

[riak2]
riak2__ip

[riak2:vars]
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='riak2'

[riak3]
riak3__ip

[riak3:vars]
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='riak3'

[riak4]
riak4__ip

[riak4:vars]
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='riak4'

[riak5]
riak5__ip

[riak5:vars]
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='riak5'

[riak6]
riak6__ip

[riak6:vars]
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='riak6'

[riak7]
riak7__ip

[riak7:vars]
devices='["/dev/sdb","/dev/sdc"]'
partitions='["/dev/sdb1","/dev/sdc1"]'
datavol_device='/dev/mapper/consolidated-data'
hostname='riak7'

[task0]
task0__ip

[task0:vars]
hostname='task0'

[task1]
task1__ip

[task1:vars]
hostname='task1'

[task2]
task2__ip

[task2:vars]
hostname='task2'

[task3]
task3__ip

[task3:vars]
hostname='task3'

[task4]
task4__ip

[task4:vars]
hostname='task4'

[pil0]
pil0__ip

[pil0:vars]
hostname='pil0'

[pil1]
pil1__ip

[pil1:vars]
hostname='pil1'

[pil2]
pil2__ip

[pil2:vars]
hostname='pil2'

[pil3]
pil3__ip

[pil3:vars]
hostname='pil3'

[pil4]
pil4__ip

[pil4:vars]
hostname='pil4'

[pil5]
pil5__ip

[pil5:vars]
hostname='pil5'

[pil6]
pil6__ip

[pil6:vars]
hostname='pil6'

[kafka0]
kafka0__ip

[kafka0:vars]
devices='["/dev/sdb"]'
partitions='["/dev/sdb1"]'
datavol_device='/dev/mapper/consolidated-data'
kafka_broker_id=0
hostname='kafka0'

[rabbit0]
rabbit0__ip

[rabbit0:vars]
hostname='rabbit0'

[fplay0]
fplay0__ip

[fplay0:vars]
hostname='fplay0'

[patch0]
10.247.63.132

[proxy:children]
web0

[cas_proxy:children]
web0

[webworkers:children]
web0
web1
web2
web3
web4
web5
web6
web7
web8
web9

[postgresql:children]
pgdw
pgmain
pgpt1
pgpt2

[couchdb2:children]
couch0
couch1
couch2

[couchdb2_proxy:children]
couch0

[redis:children]
rabbit0

[zookeeper:children]
kafka0

[kafka:children]
kafka0

[rabbitmq:children]
rabbit0

[celery:children]
task0
task1
task2
task3
task4
web0
web1
web2
web3
web4
web5
web6
web7
web8
web9

[pillowtop:children]
pil0
pil1
pil2
pil3
pil4
pil5
pil6

[touchforms:children]
fplay0

[formplayer:children]
fplay0

[elasticsearch:children]
es0
es1
es2
es3

[shared_dir_host:children]
kafka0

[riakcs:children]
riak0
riak1
riak2
riak3
riak4
riak5
riak6
riak7

[stanchion:children]
rabbit0

[pg_standby:children]
pgdwb
pgmainb
pgpt1b
pgpt2b

[lvm:children]
postgresql
pg_standby
elasticsearch
couchdb2
riakcs
kafka0
fplay0

[patch:children]
patch0

[control:children]
kafka0

[mailrelay:children]
web0
